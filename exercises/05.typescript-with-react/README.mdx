# TypeScript with React

## 📝 Your Notes

Elaborate on your learnings here in `src/exercise/05.md`

## Background

TypeScript is an enormously valuable team productivity, code quality, and
confidence tool that I strongly recommend you use to build any React application
you plan making maintainable.

> ‼️ NOTE: If you're not already familiar with TypeScript, then you may want to
> skip the TypeScript parts of the exercises. The workshop assumes experience
> with TypeScript and will therefore be very difficult to complete if you don't
> already have experience with TypeScript. Remember, you can remove the
> TypeScript from the workshop by running `./scripts/remove-ts` in your command
> line.

Remember, in exercise 4 we learned what a React component is:

> Components are functions which accept an object called "props" and return
> something that is renderable

Because of this, they don't require any special considerations when applying
TypeScript type annotations to them. You treat React component functions the
same way you treat regular functions. Because of this, the major battle for
folks using TypeScript with React is:

1. Improving their TypeScript skills
2. Learning the React-specific types available

📜 I advise having the
[React+TypeScript Cheatsheets](https://github.com/typescript-cheatsheets/react)
repo open as a reference while you're getting used to using TypeScript and
React.

With that said, here's a quick intro to adding type annotations to functions:

```tsx
// here's a regular JS function that accepts a user
// which might have a name property
function getName(user) {
  return user.name ?? 'Unknown'
}

// here's how you'd type that user object to say it has an optional name property:
type User = {name?: string}

// and here's how you'd tell TypeScript that the user parameter is a User object
function getName(user: User) {
  return user.name ?? 'Unknown'
}

// and if you'd like to, you can specify the return type explicitely as well
// (though it is inferred):
function getName(user: User): string {
  return user.name ?? 'Unknown'
}
```

📜 Learn more about the syntax for functions in TypeScript here:
[TypeScript Function Syntaxes](https://kentcdodds.com/blog/typescript-function-syntaxes)

Let's look at a quick example of adding TypeScript to a simple (and familiar)
React component:

```tsx
function Message(props) {
  return <div className="message">{props.children}</div>
}

// We could say:
type MessageProps = {children: string}
function Message(props: MessageProps) {
  return <div className="message">{props.children}</div>
}
// that would allow: <Message>Hello World</Message>
// but not: <Message><span>Hello</span> <span>World</span></Message>

// The React types have a ReactNode, which is the recommended choice for the children prop:
type MessageProps = {children: React.ReactNode}
function Message(props: MessageProps) {
  return <div className="message">{props.children}</div>
}

// keep in mind that you don't *have* to give your props a name.
// You can inline them as well. This works just the same as above:
function Message(props: {children: React.ReactNode}) {
  return <div className="message">{props.children}</div>
}

// and you can destructure as well:
function Message({children}: {children: React.ReactNode}) {
  return <div className="message">{children}</div>
}

// mix-and-match (this is what I do most of the time):
type MessageProps = {children: React.ReactNode}
function Message({children}: MessageProps) {
  return <div className="message">{children}</div>
}
```

📜 Learn more about typing React components here:
[How to write a React Component in TypeScript](https://kentcdodds.com/blog/how-to-write-a-react-component-in-typescript)

🦉 It's great to have your code type checked, but not at the expense of
progressing and learning. If you get totally stuck on something, then I suggest
you tell TypeScript to quiet down and come back to it later when you're more
experienced or want to focus on it. You can do this like so:

```typescript
// @ts-expect-error TypeScript is complaining about this next line.
// Something about magic not existing.
// I don't know how to fix this right now... Come back later.
make.magic()
```

💰 Tip: If you're an experienced TypeScript developer and want to enable strict
mode, open `config/tsconfig.exercise.json` and set `strict` to `true` in there.

💰 Tip: If you're not interested in using TypeScript and would rather work
through all the exercises with JavaScript, then run this in your terminal:

```
./scripts/remove-ts
```

This will convert all the files to JavaScript. You may need to restart your
development server for the change to take effect.
